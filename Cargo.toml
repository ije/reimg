[package]
name = "reimg"
description = "A simple CLI tool to resize images."
version = "0.0.2"
edition = "2024"
license = "MIT"
repository = "https://github.com/ije/reimg"
exclude = ["test/*", ".github/*", "rustfmt.toml", ".gitignore"]

[dependencies]
image = { version = "0.25.8", features = ["jpeg", "png", "webp", "avif", "gif", "ico", "bmp", "tiff"] }

[target.'cfg(not(all(target_os = "macos", target_arch = "x86_64")))'.dependencies]
libwebp-sys = { version = "0.13.3", default-features = false, features = ["std", "parallel", "avx2", "sse41", "neon", "generate-bindings"] }

[target.'cfg(all(target_os = "macos", target_arch = "x86_64"))'.dependencies]
libwebp-sys = { version = "0.13.3", default-features = false, features = ["std", "parallel", "generate-bindings"] }

[profile.release]
codegen-units = 1
debug = false
incremental = false
lto = true
opt-level = 3
panic = "abort"
strip = "symbols"

[[test]]
name = "reimg"
path = "test/test.rs"
